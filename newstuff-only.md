#### Hosting

##### Understand the context
First thing is to assess what will move to Qlik Cloud : 
- Where the analytics is embedded?
- Which can of resources are using?
- Where the sources are hosted?

In Qlik, we have 2 kind of applications :
- Web Apps : All the web applications in which I'm using the Qlik Backend API. No Qlik front-end files are used (JS or CSS).
- Mashups : The integration of Qlik resources in web applications using Qlik Sense Capabilities API and other front-end Qlik resources as JS files and CSS.

Moreover, the mashup or web application can be embedded in another product.
The potentential specific dependencies have to be identified.

##### Where can I host my mashups?
The mashup or web-app must be hosted in a cloud accessible location. Qlik Cloud and the user must have access to the resources. 
In Qlik Sense Client-Managed the mashup or web app can be hosted in your Qlik Sense Client-Managed site. This is not possible in Qlik Cloud.
One possibility is to host it in a cloud provider.
For simple use case with a static web-site mashup, a common storage provider can be used.

Here some examples on different cloud provider
> **Warning : These tutorials make content available to the public internet. Please adapt the security regarding your use cases.**
- [Hosting a static website on AWS](https://docs.aws.amazon.com/AmazonS3/latest/userguide/WebsiteHosting.html)
- [Hosting a static website on Azure](https://azure.microsoft.com/fr-fr/blog/static-websites-on-azure-storage-now-generally-available/)
- [Hosting a static website on Google Cloud Platform](https://cloud.google.com/storage/docs/hosting-static-website)


##### Settings

Moving the mashup or the web app to Qlik Cloud will have impacts in term of security and resources location.

Browsers and web servers implement security policies to mitigate risks inherent with being connected to the internet. 
Cross-Origin Resource Sharing (CORS) allows to a server to indicate the origin (other than its own) from which a browser should permit loading resources.
When a web server shares a resource such as an image on its own server, it is following the same-origin policy. In this case, the resource is accessed by the same protocol, domain, and port as the server. On the other hand, a secure request for a resource from a different origin (known as a cross-origin request) requires a cross-origin resource sharing (CORS) policy. CORS allows servers to specify who (the origin) can access the assets on the server. To enable cross-origin resource sharing, the site URL that is hosting the mashup or web app must be added to a whitelist on the Qlik Sense SaaSserver. This process of setting up the whitelist is known as web integration. Qlik Sense allows you to configure CORS policies on a per web integration basis. For example, if you have two web integrations "A" and "B", and you want both to be accessible from foo.com, you need to add foo.com to the domain whitelist of both web integrations. Web integration entities are created by the tenant admin through the management console. *From [Qlik Help Page](https://help.qlik.com/en-US/sense-developer/May2022/Subsystems/Mashups/Content/Sense_Mashups/Howtos/external-mashups-integrate-cloud.htm)*

[Need more help on Content Security Policy?](https://help.qlik.com/en-US/cloud-services/Subsystems/Hub/Content/Sense_Hub/Admin/mc-administer-content-security-policy.htm)

The resources location will also be updated

 ``` HTML     
<link rel="stylesheet" href="https://www.yourtenant.eu.qlikcloud.com/resources/autogenerated/qlik-styles.css">
<script src="https://www.yourtenant.eu.qlikcloud.com/resources/assets/external/requirejs/require.js"></script>
<script src="helpdesk.js"></script>
```

Of course, as your Qlik applications are now hosting in a new Qlik Sense site, the Application should also be changed...

All these kind of change will be details below!

#### Others changes? Tip & Tricks

- *Where my application must be published?*

In most of the case the existing Qlik application will be imported or distributed on Qlik Cloud.
We recommend to use an application from a managed space in your Mashup. Managed spaces are commonly used for governed content.
The security implemented for this space and application will define who can access to the application.
All users using the mashup or web app must be authorized in this space. Please refer how to [manage permission in a managed space for more information](https://help.qlik.com/en-US/cloud-services/Subsystems/Hub/Content/Sense_Hub/Spaces/managing-managed-spaces.htm)

The application id will also change! Take a look to the URL of the application or click on ... of the application thumbtail, then *Details* to get access to the app metadat including the AppId. As in Qlik Sense Client-Managed, objectId should stay similar.

- *Ouch! I was used to developping with the Dev-Hub!?*

There is currently no Dev-Hub in Qlik Cloud. However, below some tips and tools to facilitate the move.

- *Developper mode to explore objects*

You can get the object id, properties, and layout of any object this way. There's also a link to open the object in single configurator, and test   exporting. The object id's are useful for embedding visualizations. The properties are useful if you are creating your own objects and want to check the properties of an object in a Qlik Sense app for reference. [More infos here](https://help.qlik.com/en-US/sense-developer/May2022/Subsystems/Extensions/Content/Sense_Extensions/Howtos/displaying-dev-tools.htm)

    1. Open a sheet in a Qlik Sense app in your browser
    2. Add /options/developer to the url
    3. Right click on an object and choose "Developer"
    
![image](https://user-images.githubusercontent.com/24877503/170967478-142b2e1e-791c-49e2-8166-8dad22f43c17.png)
    
 - *External tooling as a web editor?*
  
There is no mashup editor in Qlik SaaS. There are plenty of tools for web development as *Glitch* where you can experiment easily.
Follow [Qlik on Glitch](https://glitch.com/@qlik) for mashups example and to be inspired
  
- *New Qix Ewplorer to interact with the Qlik Engine*

To leverage the full potential of the platform to create complex visualizations or satisfy custom development needs, understanding the Engine API is fundamental to taking advantage of what Qlik Sense hides under the hood.

   Take a look to the new [QIX explorer](https://qixplorer.qlik.dev/) - [More info here](https://community.qlik.com/t5/Qlik-Design-Blog/Get-to-know-the-Engine-API-with-Qixplorer/ba-p/1924806)

   ![image](https://user-images.githubusercontent.com/24877503/170963602-79997ed1-a989-46b0-a211-165b0820b3b9.png)


### Going further : Improve your embedded analytics

#### Nebula.js and Enigma.js

Enigma.js and Nebula.js allows an advanced capabilities of integration
- Enigma.js is a wrapper library that makes communicating with the engine easier with JavaScript rather than using the straight websockets.
- Qlik nebula.js is an open source collection of JavaScript libraries, visualizations, and CLIs that help developers build and integrate visualizations into their own web app or build their own client extension.

*Add GIACOMO EXAMPLE*

More info on [Qlik.Dev](https://qlik.dev/basics/integrating-qlik-objects-into-web-apps)
